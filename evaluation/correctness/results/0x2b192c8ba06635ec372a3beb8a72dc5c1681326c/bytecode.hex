6080604052600436106102295760003560e01c80638a8c523c11610123578063d51ed1c8116100ab578063f1f3bca31161006f578063f1f3bca3146106ae578063f2fde38b146106ce578063f4293890146106ee578063f84ba65d14610703578063f887ea401461072357600080fd5b8063d51ed1c8146105e8578063dc93cf7014610608578063dd62ed3e14610628578063df20fd491461066e578063e66db25e1461068e57600080fd5b806395d89b41116100f257806395d89b4114610545578063a8aa1b3114610573578063a9059cbb14610593578063bbc0c742146105b3578063bf56b371146105d257600080fd5b80638a8c523c146104cc5780638b42507f146104e15780638da5cb5b146105115780638f9a55c01461052f57600080fd5b8063571ac8b0116101b15780636fcba377116101755780636fcba3771461041957806370a0823114610439578063715018a61461046f5780637d1db4a514610484578063893d20e81461049a57600080fd5b8063571ac8b01461037d5780635c85974f1461039d5780635d0044ca146103bf578063658d4b7f146103df5780636ddd1713146103ff57600080fd5b806318160ddd116101f857806318160ddd146102e757806323b872dd146102fc5780632b112e491461031c578063313ce567146103315780633f4218e01461034d57600080fd5b80630445b6671461023557806306fdde031461025e578063095ea7b3146102975780631161ae39146102c757600080fd5b3661023057005b600080fd5b34801561024157600080fd5b5061024b60185481565b6040519081526020015b60405180910390f35b34801561026a57600080fd5b50604080518082019091526007815266372f3420496e7560c81b60208201525b6040516102559190611835565b3480156102a357600080fd5b506102b76102b23660046118a6565b610743565b6040519015158152602001610255565b3480156102d357600080fd5b506102b76102e23660046118d0565b6107b0565b3480156102f357600080fd5b5060045461024b565b34801561030857600080fd5b506102b76103173660046118f2565b6107c4565b34801561032857600080fd5b5061024b610886565b34801561033d57600080fd5b5060405160128152602001610255565b34801561035957600080fd5b506102b761036836600461192e565b60096020526000908152604090205460ff1681565b34801561038957600080fd5b506102b761039836600461192e565b6108d8565b3480156103a957600080fd5b506103bd6103b8366004611949565b6108e6565b005b3480156103cb57600080fd5b506103bd6103da366004611949565b61090f565b3480156103eb57600080fd5b506103bd6103fa366004611972565b610938565b34801561040b57600080fd5b506017546102b79060ff1681565b34801561042557600080fd5b506103bd6104343660046119a5565b61096b565b34801561044557600080fd5b5061024b61045436600461192e565b6001600160a01b031660009081526007602052604090205490565b34801561047b57600080fd5b506103bd6109a1565b34801561049057600080fd5b5061024b60055481565b3480156104a657600080fd5b506000546001600160a01b03165b6040516001600160a01b039091168152602001610255565b3480156104d857600080fd5b506103bd6109b5565b3480156104ed57600080fd5b506102b76104fc36600461192e565b600a6020526000908152604090205460ff1681565b34801561051d57600080fd5b506000546001600160a01b03166104b4565b34801561053b57600080fd5b5061024b60065481565b34801561055157600080fd5b506040805180820190915260058152643734496e7560d81b602082015261028a565b34801561057f57600080fd5b506015546104b4906001600160a01b031681565b34801561059f57600080fd5b506102b76105ae3660046118a6565b6109ce565b3480156105bf57600080fd5b506017546102b790610100900460ff1681565b3480156105de57600080fd5b5061024b60165481565b3480156105f457600080fd5b5061024b610603366004611949565b6109db565b34801561061457600080fd5b506103bd61062336600461192e565b610a1f565b34801561063457600080fd5b5061024b6106433660046119d7565b6001600160a01b03918216600090815260086020908152604080832093909416825291909152205490565b34801561067a57600080fd5b506103bd610689366004611a01565b610b3b565b34801561069a57600080fd5b506103bd6106a93660046119d7565b610b5a565b3480156106ba57600080fd5b5061024b6106c9366004611a1d565b610b90565b3480156106da57600080fd5b506103bd6106e936600461192e565b610bd1565b3480156106fa57600080fd5b506103bd610c4a565b34801561070f57600080fd5b506103bd61071e366004611972565b610c90565b34801561072f57600080fd5b506014546104b4906001600160a01b031681565b3360008181526008602090815260408083206001600160a01b038716808552925280832085905551919290917f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b9259061079e9086815260200190565b60405180910390a35060015b92915050565b6000826107bc836109db565b119392505050565b6001600160a01b038316600090815260086020908152604080832033845290915281205460001914610871576040805180820182526016815275496e73756666696369656e7420416c6c6f77616e636560501b6020808301919091526001600160a01b038716600090815260088252838120338252909152919091205461084c918490610cc3565b6001600160a01b03851660009081526008602090815260408083203384529091529020555b61087c848484610cfd565b90505b9392505050565b6003546001600160a01b03166000908152600760205260408120546108d3906002546001600160a01b03166000908152600760205260409020546108cd9060045490611014565b90611014565b905090565b60006107aa82600019610743565b6108ee611056565b6103e86004546108fe9190611a4e565b81101561090a57600080fd5b600555565b610917611056565b6103e86004546109279190611a4e565b81101561093357600080fd5b600655565b610940611056565b6001600160a01b03919091166000908152600960205260409020805460ff1916911515919091179055565b610973611056565b600c849055600d839055600e8290556109968361099084876110b0565b906110b0565b600f55601055505050565b6109a9611056565b6109b3600061110f565b565b6109bd611056565b6017805461ff001916610100179055565b600061087f338484610cfd565b60006107aa6109e8610886565b6015546001600160a01b0316600090815260076020526040902054610a1990610a1290600261115f565b859061115f565b906111e1565b610a27611056565b306001600160a01b03821603610a905760405162461bcd60e51b815260206004820152602360248201527f43616e2774206c657420796f752074616b6520616c6c206e617469766520746f60448201526235b2b760e91b60648201526084015b60405180910390fd5b6040516370a0823160e01b81523060048201526000906001600160a01b038316906370a0823190602401602060405180830381865afa158015610ad7573d6000803e3d6000fd5b505050506040513d601f19601f82011682018060405250810190610afb9190611a70565b6011546040519192506001600160a01b03169082156108fc029083906000818181858888f19350505050158015610b36573d6000803e3d6000fd5b505050565b610b43611056565b6017805460ff191692151592909217909155601855565b610b62611056565b601180546001600160a01b039384166001600160a01b03199182161790915560138054929093169116179055565b6000436016546001610ba29190611a89565b10610bb5576010546107aa906001611014565b8115610bc957600f546107aa9060016110b0565b5050600f5490565b610bd9611056565b6001600160a01b038116610c3e5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b6064820152608401610a87565b610c478161110f565b50565b610c52611056565b60115460405147916001600160a01b03169082156108fc029083906000818181858888f19350505050158015610c8c573d6000803e3d6000fd5b5050565b610c98611056565b6001600160a01b03919091166000908152600a60205260409020805460ff1916911515919091179055565b60008184841115610ce75760405162461bcd60e51b8152600401610a879190611835565b506000610cf48486611aa1565b95945050505050565b60195460009060ff1615610d1d57610d16848484611223565b905061087f565b601754610100900460ff16610db7576001600160a01b03841660009081526009602052604090205460ff1680610d6b57506001600160a01b03831660009081526009602052604090205460ff165b610db75760405162461bcd60e51b815260206004820152601a60248201527f54726164696e67206973206e6f7420616374697665207965742e0000000000006044820152606401610a87565b610dc18483611309565b6015546001600160a01b03848116911614801590610ded57506002546001600160a01b03848116911614155b15610e98576001600160a01b0383166000908152600a602052604090205460ff1680610e3e57506006546001600160a01b038416600090815260076020526040902054610e3b908490611a89565b11155b610e985760405162461bcd60e51b815260206004820152602560248201527f5472616e7366657220616d6f756e74206578636565647320746865206261672060448201526439b4bd329760d91b6064820152608401610a87565b610ea0611372565b15610ead57610ead6113c1565b601654158015610eca57506015546001600160a01b038481169116145b15610efa576001600160a01b038416600090815260076020526040902054610ef157600080fd5b610efa43601655565b6040805180820182526014815273496e73756666696369656e742042616c616e636560601b6020808301919091526001600160a01b038716600090815260079091529190912054610f4c918490610cc3565b6001600160a01b038516600090815260076020526040812091909155610f72858561170e565b610f7c5782610f87565b610f87858585611755565b6001600160a01b038516600090815260076020526040902054909150610fad90826110b0565b6001600160a01b0380861660008181526007602052604090819020939093559151908716907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef906110019085815260200190565b60405180910390a3506001949350505050565b600061087f83836040518060400160405280601e81526020017f536166654d6174683a207375627472616374696f6e206f766572666c6f770000815250610cc3565b6000546001600160a01b031633146109b35760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152606401610a87565b6000806110bd8385611a89565b90508381101561087f5760405162461bcd60e51b815260206004820152601b60248201527f536166654d6174683a206164646974696f6e206f766572666c6f7700000000006044820152606401610a87565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600082600003611171575060006107aa565b600061117d8385611ab8565b90508261118a8583611a4e565b1461087f5760405162461bcd60e51b815260206004820152602160248201527f536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f6044820152607760f81b6064820152608401610a87565b600061087f83836040518060400160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f000000000000815250611807565b6040805180820182526014815273496e73756666696369656e742042616c616e636560601b6020808301919091526001600160a01b0386166000908152600790915291822054611274918490610cc3565b6001600160a01b0380861660009081526007602052604080822093909355908516815220546112a390836110b0565b6001600160a01b0380851660008181526007602052604090819020939093559151908616907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef906112f79086815260200190565b60405180910390a35060019392505050565b6005548111158061133257506001600160a01b0382166000908152600a602052604090205460ff165b610c8c5760405162461bcd60e51b8152602060048201526011602482015270151608131a5b5a5d08115e18d959591959607a1b6044820152606401610a87565b6015546000906001600160a01b03163314801590611393575060195460ff16155b80156113a1575060175460ff165b80156108d357505060185430600090815260076020526040902054101590565b6019805460ff1916600117905530600090815260076020526040812054905060006114026002610a19600f54610a19600b548761115f90919063ffffffff16565b905060006114108383611014565b6040805160028082526060820183529293506000929091602083019080368337019050509050308160008151811061144a5761144a611ad7565b6001600160a01b039283166020918202929092010152600180548351921691839190811061147a5761147a611ad7565b6001600160a01b03928316602091820292909201015260145460405163791ac94760e01b81524792919091169063791ac947906114c4908690600090879030904290600401611aed565b600060405180830381600087803b1580156114de57600080fd5b505af11580156114f2573d6000803e3d6000fd5b50505050600061150b824761101490919063ffffffff16565b905060006115316115286002600b546111e190919063ffffffff16565b600f5490611014565b9050600061154e82610a19600c548661115f90919063ffffffff16565b9050600061156b83610a19600d548761115f90919063ffffffff16565b9050600061158884610a19600e548861115f90919063ffffffff16565b6011546040519192506000916001600160a01b039091169061753090859084818181858888f193505050503d80600081146115df576040519150601f19603f3d011682016040523d82523d6000602084013e6115e4565b606091505b50509050806116055760405162461bcd60e51b8152600401610a8790611b5e565b6012546040516000916001600160a01b03169061753090859084818181858888f193505050503d8060008114611657576040519150601f19603f3d011682016040523d82523d6000602084013e61165c565b606091505b505090508061167d5760405162461bcd60e51b8152600401610a8790611b5e565b6013546040516000916001600160a01b03169061753090889084818181858888f193505050503d80600081146116cf576040519150601f19603f3d011682016040523d82523d6000602084013e6116d4565b606091505b50509050806116f55760405162461bcd60e51b8152600401610a8790611b5e565b50506019805460ff191690555050505050505050505050565b6001600160a01b03821660009081526009602052604081205460ff168061174d57506001600160a01b03821660009081526009602052604090205460ff165b159392505050565b60105460155460009182916117879190610a1990611780906001600160a01b03898116911614610b90565b869061115f565b306000908152600760205260409020549091506117a490826110b0565b30600081815260076020526040908190209290925590516001600160a01b038716907fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef906117f59085815260200190565b60405180910390a3610cf48382611014565b600081836118285760405162461bcd60e51b8152600401610a879190611835565b506000610cf48486611a4e565b600060208083528351808285015260005b8181101561186257858101830151858201604001528201611846565b81811115611874576000604083870101525b50601f01601f1916929092016040019392505050565b80356001600160a01b03811681146118a157600080fd5b919050565b600080604083850312156118b957600080fd5b6118c28361188a565b946020939093013593505050565b600080604083850312156118e357600080fd5b50508035926020909101359150565b60008060006060848603121561190757600080fd5b6119108461188a565b925061191e6020850161188a565b9150604084013590509250925092565b60006020828403121561194057600080fd5b61087f8261188a565b60006020828403121561195b57600080fd5b5035919050565b803580151581146118a157600080fd5b6000806040838503121561198557600080fd5b61198e8361188a565b915061199c60208401611962565b90509250929050565b600080600080608085870312156119bb57600080fd5b5050823594602084013594506040840135936060013592509050565b600080604083850312156119ea57600080fd5b6119f38361188a565b915061199c6020840161188a565b60008060408385031215611a1457600080fd5b6118c283611962565b600060208284031215611a2f57600080fd5b61087f82611962565b634e487b7160e01b600052601160045260246000fd5b600082611a6b57634e487b7160e01b600052601260045260246000fd5b500490565b600060208284031215611a8257600080fd5b5051919050565b60008219821115611a9c57611a9c611a38565b500190565b600082821015611ab357611ab3611a38565b500390565b6000816000190483118215151615611ad257611ad2611a38565b500290565b634e487b7160e01b600052603260045260246000fd5b600060a082018783526020878185015260a0604085015281875180845260c086019150828901935060005b81811015611b3d5784516001600160a01b031683529383019391830191600101611b18565b50506001600160a01b03969096166060850152505050608001529392505050565b6020808252601e908201527f72656365697665722072656a656374656420455448207472616e73666572000060408201526060019056fea2646970667358221220b5ca50c2e41eb6541768703e05293c4cb7a5b4ef6a20f11272892a7b464c8ccd64736f6c634300080f0033